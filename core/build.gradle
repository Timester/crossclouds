task fatJar(type: Jar) {
    manifest.attributes(
            'Class-Path': 'AWSProvider-all.jar',
            'Manifest-Version': '1.0'
    )
            baseName = project.name + '-all'
            from { configurations.compile.collect { it.isDirectory() ? it : zipTree(it) } }
            with jar
}